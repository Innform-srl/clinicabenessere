<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lucania-Care v3.0 - Turni & Medici</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2563eb; --primary-dark: #1d4ed8; --primary-light: #dbeafe;
            --success: #10b981; --success-light: #d1fae5;
            --warning: #f59e0b; --warning-light: #fef3c7;
            --danger: #ef4444; --danger-light: #fee2e2;
            --gray-50: #f9fafb; --gray-100: #f3f4f6; --gray-200: #e5e7eb;
            --gray-300: #d1d5db; --gray-400: #9ca3af; --gray-500: #6b7280;
            --gray-600: #4b5563; --gray-700: #374151; --gray-800: #1f2937; --gray-900: #111827;
            --purple: #8b5cf6; --purple-light: #ede9fe;
            --cyan: #06b6d4; --cyan-light: #cffafe;
            --teal: #14b8a6; --teal-light: #ccfbf1;
            --orange: #f97316; --orange-light: #fed7aa;
            --indigo: #6366f1; --indigo-light: #e0e7ff;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; background: var(--gray-50); color: var(--gray-800); }
        .app-container { display: flex; min-height: 100vh; }
        
        /* Sidebar */
        .sidebar { width: 260px; background: linear-gradient(180deg, var(--gray-900) 0%, var(--gray-800) 100%); color: white; padding: 16px 0; position: fixed; height: 100vh; overflow-y: auto; z-index: 100; }
        .sidebar-header { padding: 0 16px 16px; border-bottom: 1px solid var(--gray-700); margin-bottom: 16px; }
        .sidebar-logo { display: flex; align-items: center; gap: 10px; }
        .logo-icon { width: 40px; height: 40px; background: linear-gradient(135deg, var(--primary) 0%, var(--cyan) 100%); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 16px; }
        .logo-text h1 { font-size: 16px; font-weight: 700; color: white; }
        .logo-text span { font-size: 10px; color: var(--gray-400); }
        .nav-section { margin-bottom: 20px; }
        .nav-section-title { font-size: 9px; text-transform: uppercase; letter-spacing: 1.5px; color: var(--gray-500); padding: 0 16px; margin-bottom: 6px; }
        .nav-item { display: flex; align-items: center; gap: 10px; padding: 10px 16px; color: var(--gray-400); cursor: pointer; transition: all 0.2s; border-left: 3px solid transparent; font-size: 13px; text-decoration: none; }
        .nav-item:hover { background: var(--gray-700); color: white; }
        .nav-item.active { background: rgba(37, 99, 235, 0.15); color: var(--primary); border-left-color: var(--primary); }
        .nav-item svg { width: 18px; height: 18px; }
        .nav-badge { margin-left: auto; background: var(--danger); color: white; font-size: 10px; padding: 2px 6px; border-radius: 8px; font-weight: 600; }
        .nav-external { font-size: 9px; color: var(--gray-500); margin-left: auto; }
        
        /* Main Content */
        .main-content { flex: 1; margin-left: 260px; min-height: 100vh; }
        .header { background: white; padding: 14px 24px; border-bottom: 1px solid var(--gray-200); display: flex; align-items: center; justify-content: space-between; position: sticky; top: 0; z-index: 50; }
        .header-title h2 { font-size: 18px; font-weight: 600; color: var(--gray-900); }
        .header-title p { font-size: 12px; color: var(--gray-500); margin-top: 2px; }
        .header-actions { display: flex; align-items: center; gap: 12px; }
        .search-box { display: flex; align-items: center; gap: 8px; background: var(--gray-100); padding: 8px 14px; border-radius: 8px; width: 240px; }
        .search-box input { border: none; background: transparent; outline: none; flex: 1; font-size: 13px; }
        .notification-btn { position: relative; width: 38px; height: 38px; border-radius: 8px; background: var(--gray-100); border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .notification-dot { position: absolute; top: 6px; right: 6px; width: 8px; height: 8px; background: var(--danger); border-radius: 50%; border: 2px solid white; }
        .user-menu { display: flex; align-items: center; gap: 8px; padding: 4px 10px 4px 4px; background: var(--gray-100); border-radius: 8px; cursor: pointer; }
        .user-avatar { width: 30px; height: 30px; border-radius: 6px; background: linear-gradient(135deg, var(--primary) 0%, var(--purple) 100%); display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 12px; }
        .user-info span { font-size: 13px; font-weight: 500; color: var(--gray-700); }
        .user-info small { font-size: 10px; color: var(--gray-500); display: block; }
        .content { padding: 20px 24px; }
        
        /* Cards & Components */
        .card { background: white; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); margin-bottom: 16px; overflow: hidden; }
        .card-header { padding: 14px 16px; border-bottom: 1px solid var(--gray-100); display: flex; align-items: center; justify-content: space-between; }
        .card-header h3 { font-size: 14px; font-weight: 600; color: var(--gray-800); }
        .card-body { padding: 16px; }
        
        .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 20px; }
        .stat-card { background: white; border-radius: 12px; padding: 16px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .stat-card.primary { border-left: 4px solid var(--primary); }
        .stat-card.success { border-left: 4px solid var(--success); }
        .stat-card.warning { border-left: 4px solid var(--warning); }
        .stat-card.danger { border-left: 4px solid var(--danger); }
        .stat-card.purple { border-left: 4px solid var(--purple); }
        .stat-card.cyan { border-left: 4px solid var(--cyan); }
        .stat-card.teal { border-left: 4px solid var(--teal); }
        .stat-card.orange { border-left: 4px solid var(--orange); }
        .stat-card.indigo { border-left: 4px solid var(--indigo); }
        .stat-icon { width: 40px; height: 40px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 18px; margin-bottom: 10px; }
        .stat-icon.primary { background: var(--primary-light); color: var(--primary); }
        .stat-icon.success { background: var(--success-light); color: var(--success); }
        .stat-icon.warning { background: var(--warning-light); color: var(--warning); }
        .stat-icon.danger { background: var(--danger-light); color: var(--danger); }
        .stat-icon.purple { background: var(--purple-light); color: var(--purple); }
        .stat-icon.cyan { background: var(--cyan-light); color: var(--cyan); }
        .stat-icon.teal { background: var(--teal-light); color: var(--teal); }
        .stat-icon.orange { background: var(--orange-light); color: var(--orange); }
        .stat-icon.indigo { background: var(--indigo-light); color: var(--indigo); }
        .stat-value { font-size: 24px; font-weight: 700; color: var(--gray-900); }
        .stat-label { font-size: 12px; color: var(--gray-500); margin-top: 2px; }
        .stat-change { font-size: 11px; margin-top: 6px; display: flex; align-items: center; gap: 4px; }
        .stat-change.up { color: var(--success); }
        .stat-change.down { color: var(--danger); }
        
        .grid-2 { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; }
        .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
        .grid-4 { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; }
        
        /* Table */
        table { width: 100%; border-collapse: collapse; font-size: 13px; }
        th, td { padding: 10px 12px; text-align: left; border-bottom: 1px solid var(--gray-100); }
        th { background: var(--gray-50); font-weight: 600; color: var(--gray-600); font-size: 11px; text-transform: uppercase; }
        tr:hover { background: var(--gray-50); }
        
        /* Form Elements */
        .form-select, .form-input, .form-textarea { padding: 8px 12px; border: 1px solid var(--gray-200); border-radius: 6px; font-size: 13px; width: 100%; background: white; }
        .form-select:focus, .form-input:focus, .form-textarea:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px var(--primary-light); }
        .form-textarea { min-height: 80px; resize: vertical; }
        .form-group { margin-bottom: 12px; }
        .form-label { font-size: 12px; font-weight: 500; color: var(--gray-600); margin-bottom: 4px; display: block; }
        
        /* Buttons */
        .btn { display: inline-flex; align-items: center; justify-content: center; gap: 6px; padding: 8px 14px; border-radius: 6px; font-size: 13px; font-weight: 500; border: none; cursor: pointer; transition: all 0.2s; }
        .btn-primary { background: var(--primary); color: white; }
        .btn-primary:hover { background: var(--primary-dark); }
        .btn-secondary { background: var(--gray-100); color: var(--gray-700); }
        .btn-secondary:hover { background: var(--gray-200); }
        .btn-success { background: var(--success); color: white; }
        .btn-danger { background: var(--danger); color: white; }
        .btn-warning { background: var(--warning); color: white; }
        .btn-purple { background: var(--purple); color: white; }
        .btn-cyan { background: var(--cyan); color: white; }
        .btn-teal { background: var(--teal); color: white; }
        .btn-orange { background: var(--orange); color: white; }
        .btn-indigo { background: var(--indigo); color: white; }
        .btn-sm { padding: 5px 10px; font-size: 12px; }
        
        /* Badge */
        .badge { display: inline-flex; align-items: center; padding: 3px 8px; border-radius: 4px; font-size: 11px; font-weight: 500; }
        .badge-primary { background: var(--primary-light); color: var(--primary); }
        .badge-success { background: var(--success-light); color: var(--success); }
        .badge-warning { background: var(--warning-light); color: var(--warning); }
        .badge-danger { background: var(--danger-light); color: var(--danger); }
        .badge-purple { background: var(--purple-light); color: var(--purple); }
        .badge-cyan { background: var(--cyan-light); color: var(--cyan); }
        .badge-teal { background: var(--teal-light); color: var(--teal); }
        .badge-orange { background: var(--orange-light); color: var(--orange); }
        .badge-indigo { background: var(--indigo-light); color: var(--indigo); }
        .badge-gray { background: var(--gray-100); color: var(--gray-600); }
        
        /* Tabs */
        .tabs { display: flex; gap: 4px; margin-bottom: 16px; }
        .tab { padding: 8px 16px; border-radius: 6px; font-size: 13px; font-weight: 500; background: var(--gray-100); color: var(--gray-600); cursor: pointer; border: none; transition: all 0.2s; }
        .tab:hover { background: var(--gray-200); }
        .tab.active { background: var(--primary); color: white; }
        
        /* Calendar Grid */
        .calendar-grid { display: grid; grid-template-columns: 60px repeat(7, 1fr); gap: 1px; background: var(--gray-200); border-radius: 8px; overflow: hidden; }
        .calendar-header { background: var(--gray-800); color: white; padding: 12px 8px; text-align: center; font-size: 11px; font-weight: 600; }
        .calendar-header.corner { background: var(--gray-900); }
        .calendar-cell { background: white; padding: 8px; min-height: 50px; font-size: 11px; position: relative; }
        .calendar-time { background: var(--gray-50); font-weight: 600; color: var(--gray-600); display: flex; align-items: center; justify-content: center; font-size: 10px; }
        .calendar-shift { padding: 4px 6px; border-radius: 4px; margin-bottom: 3px; font-size: 10px; font-weight: 500; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; cursor: pointer; transition: transform 0.1s; }
        .calendar-shift:hover { transform: scale(1.02); }
        .calendar-shift.mattina { background: var(--primary-light); color: var(--primary); border-left: 2px solid var(--primary); }
        .calendar-shift.pomeriggio { background: var(--success-light); color: var(--success); border-left: 2px solid var(--success); }
        .calendar-shift.notte { background: var(--purple-light); color: var(--purple); border-left: 2px solid var(--purple); }
        .calendar-shift.riposo { background: var(--gray-100); color: var(--gray-500); border-left: 2px solid var(--gray-400); }
        
        /* Operatore Card */
        .operatore-card { display: flex; align-items: center; gap: 12px; padding: 12px; background: var(--gray-50); border-radius: 8px; margin-bottom: 8px; }
        .operatore-avatar { width: 40px; height: 40px; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px; }
        .operatore-info { flex: 1; }
        .operatore-info h4 { font-size: 13px; font-weight: 600; color: var(--gray-800); }
        .operatore-info p { font-size: 11px; color: var(--gray-500); }
        .operatore-stats { text-align: right; }
        .operatore-stats span { display: block; font-size: 11px; color: var(--gray-600); }
        
        /* Medico Card */
        .medico-card { background: white; border-radius: 12px; padding: 16px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); border-left: 4px solid var(--primary); }
        .medico-header { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; }
        .medico-avatar { width: 50px; height: 50px; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 18px; }
        .medico-info h4 { font-size: 15px; font-weight: 600; color: var(--gray-800); }
        .medico-info p { font-size: 12px; color: var(--gray-500); }
        .medico-contact { margin-top: 12px; padding-top: 12px; border-top: 1px solid var(--gray-100); }
        .medico-contact p { font-size: 12px; color: var(--gray-600); margin-bottom: 4px; display: flex; align-items: center; gap: 6px; }
        .medico-pazienti { margin-top: 12px; }
        .medico-pazienti h5 { font-size: 11px; text-transform: uppercase; color: var(--gray-500); margin-bottom: 8px; }
        .medico-pazienti-list { display: flex; flex-wrap: wrap; gap: 4px; }
        
        /* Turno Legend */
        .legend { display: flex; gap: 16px; margin-bottom: 16px; padding: 10px 14px; background: white; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .legend-item { display: flex; align-items: center; gap: 6px; font-size: 12px; color: var(--gray-600); }
        .legend-dot { width: 12px; height: 12px; border-radius: 3px; }
        .legend-dot.mattina { background: var(--primary); }
        .legend-dot.pomeriggio { background: var(--success); }
        .legend-dot.notte { background: var(--purple); }
        .legend-dot.riposo { background: var(--gray-300); }
        
        /* Week Navigation */
        .week-nav { display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; }
        .week-nav h3 { font-size: 16px; font-weight: 600; color: var(--gray-800); }
        .week-nav-btns { display: flex; gap: 8px; }
        
        /* Modal Styles */
        .modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 200; }
        .modal { background: white; border-radius: 12px; width: 500px; max-height: 80vh; overflow-y: auto; }
        .modal-header { padding: 16px; border-bottom: 1px solid var(--gray-100); display: flex; align-items: center; justify-content: space-between; }
        .modal-header h3 { font-size: 16px; font-weight: 600; }
        .modal-body { padding: 16px; }
        .modal-footer { padding: 16px; border-top: 1px solid var(--gray-100); display: flex; justify-content: flex-end; gap: 8px; }
        
        /* Animation */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
        .fade-in { animation: fadeIn 0.3s ease-out; }
        
        /* Responsive */
        @media (max-width: 1200px) { .stats-grid, .grid-4 { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 768px) { .sidebar { display: none; } .main-content { margin-left: 0; } .stats-grid, .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState } = React;

        // Icons
        const Icons = {
            Home: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>,
            Users: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>,
            FileText: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>,
            Activity: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>,
            Pill: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z"/><path d="m8.5 8.5 7 7"/></svg>,
            Heart: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>,
            Calendar: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>,
            Clock: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
            UserCircle: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="10" r="3"/><path d="M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662"/></svg>,
            BarChart3: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M3 3v18h18"/><path d="M18 17V9"/><path d="M13 17V5"/><path d="M8 17v-3"/></svg>,
            Settings: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="3"/><path d="M12 1v6m0 6v6"/></svg>,
            Bell: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"/></svg>,
            Search: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>,
            Plus: () => <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>,
            Eye: () => <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>,
            Edit: () => <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>,
            Download: () => <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>,
            Printer: () => <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="6 9 6 2 18 2 18 9"/><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/><rect x="6" y="14" width="12" height="8"/></svg>,
            UserCheck: () => <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><polyline points="17 11 19 13 23 9"/></svg>,
            AlertTriangle: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>,
            CheckCircle: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>,
            TrendingUp: () => <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>,
            ExternalLink: () => <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>,
            ChevronLeft: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="15 18 9 12 15 6"/></svg>,
            ChevronRight: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="9 18 15 12 9 6"/></svg>,
            Phone: () => <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>,
            Mail: () => <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>,
            MapPin: () => <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>,
            Stethoscope: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3"/><path d="M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4"/><circle cx="20" cy="10" r="2"/></svg>,
            X: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>,
            Save: () => <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>,
        };

        // Mock Data - Operatori
        const mockOperatori = [
            { id: 1, nome: 'Michele', cognome: 'Beneventano', ruolo: 'Coordinatore', qualifica: 'Educatore', color: '#2563eb', email: 'coordinatore@benessere.coop', tel: '339 1234567', oreSett: 38, assenze: 0 },
            { id: 2, nome: 'Giuseppe', cognome: 'Lotrionte', ruolo: 'Educatore', qualifica: 'Educatore', color: '#10b981', email: 'lotrionte@benessere.coop', tel: '338 2345678', oreSett: 36, assenze: 0 },
            { id: 3, nome: 'Francesco', cognome: 'Carbone', ruolo: 'OSS', qualifica: 'OSS', color: '#f59e0b', email: 'carbone@benessere.coop', tel: '337 3456789', oreSett: 36, assenze: 1 },
            { id: 4, nome: 'Maria', cognome: 'Laguardia', ruolo: 'Infermiera', qualifica: 'Infermiera', color: '#8b5cf6', email: 'laguardia@benessere.coop', tel: '336 4567890', oreSett: 36, assenze: 0 },
            { id: 5, nome: 'Antonio', cognome: 'Ferrara', ruolo: 'OSS', qualifica: 'OSS', color: '#06b6d4', email: 'ferrara@benessere.coop', tel: '335 5678901', oreSett: 36, assenze: 0 },
            { id: 6, nome: 'Rosa', cognome: 'Santoro', ruolo: 'Educatore', qualifica: 'Educatore', color: '#14b8a6', email: 'santoro@benessere.coop', tel: '334 6789012', oreSett: 36, assenze: 2 },
        ];

        // Mock Data - Medici (basati su IST-GFR)
        const mockMedici = [
            { 
                id: 1, nome: 'Adinolfi', tipo: 'MMG', specialita: 'Medicina Generale', 
                email: 'adinolfi@aspbasilicata.it', tel: '0971 123456', indirizzo: 'Via Roma 25, Potenza',
                pazienti: ['Basile T.', 'Gravina L.', 'Tomasiello F.', 'Pace P.', 'Parente G.', 'Riviello L.', 'Scavone B.'],
                color: '#2563eb', orari: 'Lun-Ven 09:00-13:00' 
            },
            { 
                id: 2, nome: 'Canadeo', tipo: 'MMG', specialita: 'Medicina Generale', 
                email: 'canadeo@aspbasilicata.it', tel: '0971 234567', indirizzo: 'Via Napoli 12, Potenza',
                pazienti: ['Gisoldo R.', 'Lisuoro N.', 'Muto G.', 'Pacella G.', 'Pastore M.', 'Santarsiero G.', 'Scavone G.'],
                color: '#10b981', orari: 'Lun-Ven 15:00-19:00'
            },
            { 
                id: 3, nome: 'Andrea Barra', tipo: 'Psichiatra DSM', specialita: 'Psichiatria', 
                email: 'andrea.barra@aspbasilicata.it', tel: '0971 345678', indirizzo: 'DSM Potenza - Via Torraca 2',
                pazienti: ['Tutti gli ospiti Casa Alloggio'],
                color: '#8b5cf6', orari: 'Su appuntamento'
            },
            { 
                id: 4, nome: 'Daria Ricciardi', tipo: 'Farmacia Territoriale', specialita: 'Farmacia ASP', 
                email: 'daria.ricciardi@aspbasilicata.it', tel: '0971 456789', indirizzo: 'Farmacia Territoriale ASP - Potenza',
                pazienti: [],
                color: '#f59e0b', orari: 'Lun-Ven 08:30-14:00'
            },
        ];

        // Mock Data - Turni settimana corrente
        const mockTurniSettimana = {
            'Beneventano M.': ['M', 'M', 'M', 'P', 'P', 'R', 'R'],
            'Lotrionte G.': ['P', 'N', 'R', 'M', 'M', 'P', 'N'],
            'Carbone F.': ['M', 'P', 'N', 'R', 'R', 'M', 'P'],
            'Laguardia M.': ['N', 'R', 'M', 'M', 'P', 'N', 'R'],
            'Ferrara A.': ['R', 'M', 'P', 'N', 'R', 'R', 'M'],
            'Santoro R.': ['P', 'P', 'R', 'R', 'M', 'M', 'P'],
        };

        const giorniSettimana = ['Lun', 'Mar', 'Mer', 'Gio', 'Ven', 'Sab', 'Dom'];
        const turniLegend = { 'M': 'Mattina (06-14)', 'P': 'Pomeriggio (14-22)', 'N': 'Notte (22-06)', 'R': 'Riposo' };

        // App Component
        const ManagementApp = () => {
            const [activeSection, setActiveSection] = useState('turni');
            const [showModal, setShowModal] = useState(false);
            const [modalType, setModalType] = useState('');
            const [selectedItem, setSelectedItem] = useState(null);
            const [currentWeekOffset, setCurrentWeekOffset] = useState(0);

            const navSections = [
                { title: 'Principale', items: [
                    { id: 'dashboard', icon: Icons.Home, label: 'Dashboard', external: true, href: 'lucania-care-v3-main.html' },
                    { id: 'anagrafica', icon: Icons.Users, label: 'Anagrafica Utenti', external: true, href: 'lucania-care-v3-main.html' },
                    { id: 'pei', icon: Icons.FileText, label: 'Gestione PEI', external: true, href: 'lucania-care-v3-main.html' },
                    { id: 'diario', icon: Icons.Activity, label: 'Diario Clinico', external: true, href: 'lucania-care-v3-main.html' },
                ]},
                { title: 'Area Clinica', items: [
                    { id: 'clinical', icon: Icons.Pill, label: 'Farmaci & Parametri', external: true, href: 'lucania-care-v3-clinical.html' },
                ]},
                { title: 'Area Educativa', items: [
                    { id: 'education', icon: Icons.Calendar, label: 'Educativa & Relazioni', external: true, href: 'lucania-care-v3-education.html' },
                ]},
                { title: 'Gestione', items: [
                    { id: 'turni', icon: Icons.Clock, label: 'Calendario Turni' },
                    { id: 'operatori', icon: Icons.Users, label: 'Operatori' },
                    { id: 'medici', icon: Icons.Stethoscope, label: 'Rubrica Medici' },
                    { id: 'statistiche', icon: Icons.BarChart3, label: 'Statistiche' },
                ]},
            ];

            const openModal = (type, item = null) => {
                setModalType(type);
                setSelectedItem(item);
                setShowModal(true);
            };

            const renderContent = () => {
                switch (activeSection) {
                    case 'turni': return <TurniSection onOpenModal={openModal} weekOffset={currentWeekOffset} setWeekOffset={setCurrentWeekOffset} />;
                    case 'operatori': return <OperatoriSection onOpenModal={openModal} />;
                    case 'medici': return <MediciSection onOpenModal={openModal} />;
                    case 'statistiche': return <StatisticheSection />;
                    default: return <TurniSection onOpenModal={openModal} weekOffset={currentWeekOffset} setWeekOffset={setCurrentWeekOffset} />;
                }
            };

            const titles = {
                turni: { t: 'Calendario Turni', d: 'Pianificazione turni operatori - DGR 1218/2017' },
                operatori: { t: 'Gestione Operatori', d: 'Anagrafica personale e ore lavorate' },
                medici: { t: 'Rubrica Medici', d: 'Contatti medici, MMG, DSM e Farmacia Territoriale' },
                statistiche: { t: 'Statistiche', d: 'Report ore lavorate e presenze' },
            };

            return (
                <div className="app-container">
                    <aside className="sidebar">
                        <div className="sidebar-header">
                            <div className="sidebar-logo">
                                <div className="logo-icon">LC</div>
                                <div className="logo-text">
                                    <h1>Lucania-Care</h1>
                                    <span>BenEssere Cooperativa v3.0</span>
                                </div>
                            </div>
                        </div>
                        <nav>
                            {navSections.map((section, idx) => (
                                <div key={idx} className="nav-section">
                                    <div className="nav-section-title">{section.title}</div>
                                    {section.items.map(item => (
                                        item.external ? (
                                            <a key={item.id} href={item.href} className="nav-item">
                                                <item.icon />
                                                <span>{item.label}</span>
                                                <span className="nav-external"><Icons.ExternalLink /></span>
                                            </a>
                                        ) : (
                                            <div key={item.id} className={`nav-item ${activeSection === item.id ? 'active' : ''}`} onClick={() => setActiveSection(item.id)}>
                                                <item.icon />
                                                <span>{item.label}</span>
                                                {item.badge && <span className="nav-badge">{item.badge}</span>}
                                            </div>
                                        )
                                    ))}
                                </div>
                            ))}
                        </nav>
                    </aside>

                    <main className="main-content">
                        <header className="header">
                            <div className="header-title">
                                <h2>{titles[activeSection]?.t || 'Gestione'}</h2>
                                <p>{titles[activeSection]?.d || ''}</p>
                            </div>
                            <div className="header-actions">
                                <div className="search-box">
                                    <Icons.Search />
                                    <input type="text" placeholder="Cerca operatore..." />
                                </div>
                                <button className="notification-btn">
                                    <Icons.Bell />
                                    <span className="notification-dot"></span>
                                </button>
                                <div className="user-menu">
                                    <div className="user-avatar">MB</div>
                                    <div className="user-info">
                                        <span>Michele B.</span>
                                        <small>Coordinatore</small>
                                    </div>
                                </div>
                            </div>
                        </header>
                        <div className="content fade-in">
                            {renderContent()}
                        </div>
                    </main>

                    {showModal && (
                        <Modal 
                            type={modalType} 
                            item={selectedItem} 
                            onClose={() => setShowModal(false)} 
                        />
                    )}
                </div>
            );
        };

        // Modal Component
        const Modal = ({ type, item, onClose }) => {
            const renderModalContent = () => {
                switch (type) {
                    case 'turno':
                        return (
                            <>
                                <div className="modal-header">
                                    <h3>‚ûï Nuovo Turno</h3>
                                    <button className="btn btn-sm btn-secondary" onClick={onClose}><Icons.X /></button>
                                </div>
                                <div className="modal-body">
                                    <div className="form-group">
                                        <label className="form-label">Operatore</label>
                                        <select className="form-select">
                                            {mockOperatori.map(o => (
                                                <option key={o.id}>{o.cognome} {o.nome} - {o.ruolo}</option>
                                            ))}
                                        </select>
                                    </div>
                                    <div className="grid-2">
                                        <div className="form-group">
                                            <label className="form-label">Data</label>
                                            <input type="date" className="form-input" />
                                        </div>
                                        <div className="form-group">
                                            <label className="form-label">Tipo Turno</label>
                                            <select className="form-select">
                                                <option value="M">Mattina (06:00-14:00)</option>
                                                <option value="P">Pomeriggio (14:00-22:00)</option>
                                                <option value="N">Notte (22:00-06:00)</option>
                                                <option value="R">Riposo</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div className="form-group">
                                        <label className="form-label">Note</label>
                                        <textarea className="form-textarea" placeholder="Note aggiuntive..."></textarea>
                                    </div>
                                </div>
                                <div className="modal-footer">
                                    <button className="btn btn-secondary" onClick={onClose}>Annulla</button>
                                    <button className="btn btn-primary"><Icons.Save /> Salva Turno</button>
                                </div>
                            </>
                        );
                    case 'operatore':
                        return (
                            <>
                                <div className="modal-header">
                                    <h3>{item ? '‚úèÔ∏è Modifica Operatore' : '‚ûï Nuovo Operatore'}</h3>
                                    <button className="btn btn-sm btn-secondary" onClick={onClose}><Icons.X /></button>
                                </div>
                                <div className="modal-body">
                                    <div className="grid-2">
                                        <div className="form-group">
                                            <label className="form-label">Nome</label>
                                            <input type="text" className="form-input" defaultValue={item?.nome || ''} />
                                        </div>
                                        <div className="form-group">
                                            <label className="form-label">Cognome</label>
                                            <input type="text" className="form-input" defaultValue={item?.cognome || ''} />
                                        </div>
                                    </div>
                                    <div className="grid-2">
                                        <div className="form-group">
                                            <label className="form-label">Ruolo</label>
                                            <select className="form-select" defaultValue={item?.ruolo || ''}>
                                                <option value="Coordinatore">Coordinatore</option>
                                                <option value="Educatore">Educatore</option>
                                                <option value="OSS">OSS</option>
                                                <option value="Infermiera">Infermiere/a</option>
                                            </select>
                                        </div>
                                        <div className="form-group">
                                            <label className="form-label">Qualifica</label>
                                            <input type="text" className="form-input" defaultValue={item?.qualifica || ''} />
                                        </div>
                                    </div>
                                    <div className="grid-2">
                                        <div className="form-group">
                                            <label className="form-label">Email</label>
                                            <input type="email" className="form-input" defaultValue={item?.email || ''} />
                                        </div>
                                        <div className="form-group">
                                            <label className="form-label">Telefono</label>
                                            <input type="tel" className="form-input" defaultValue={item?.tel || ''} />
                                        </div>
                                    </div>
                                    <div className="form-group">
                                        <label className="form-label">Ore Settimanali Contrattuali</label>
                                        <input type="number" className="form-input" defaultValue={item?.oreSett || 36} />
                                    </div>
                                </div>
                                <div className="modal-footer">
                                    <button className="btn btn-secondary" onClick={onClose}>Annulla</button>
                                    <button className="btn btn-primary"><Icons.Save /> Salva</button>
                                </div>
                            </>
                        );
                    case 'medico':
                        return (
                            <>
                                <div className="modal-header">
                                    <h3>{item ? '‚úèÔ∏è Modifica Medico' : '‚ûï Nuovo Medico'}</h3>
                                    <button className="btn btn-sm btn-secondary" onClick={onClose}><Icons.X /></button>
                                </div>
                                <div className="modal-body">
                                    <div className="grid-2">
                                        <div className="form-group">
                                            <label className="form-label">Nome Completo</label>
                                            <input type="text" className="form-input" defaultValue={item?.nome || ''} />
                                        </div>
                                        <div className="form-group">
                                            <label className="form-label">Tipo</label>
                                            <select className="form-select" defaultValue={item?.tipo || ''}>
                                                <option value="MMG">Medico di Medicina Generale</option>
                                                <option value="Psichiatra DSM">Psichiatra DSM</option>
                                                <option value="Farmacia Territoriale">Farmacia Territoriale</option>
                                                <option value="Specialista">Specialista</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div className="form-group">
                                        <label className="form-label">Specialit√†</label>
                                        <input type="text" className="form-input" defaultValue={item?.specialita || ''} />
                                    </div>
                                    <div className="grid-2">
                                        <div className="form-group">
                                            <label className="form-label">Email</label>
                                            <input type="email" className="form-input" defaultValue={item?.email || ''} />
                                        </div>
                                        <div className="form-group">
                                            <label className="form-label">Telefono</label>
                                            <input type="tel" className="form-input" defaultValue={item?.tel || ''} />
                                        </div>
                                    </div>
                                    <div className="form-group">
                                        <label className="form-label">Indirizzo Studio</label>
                                        <input type="text" className="form-input" defaultValue={item?.indirizzo || ''} />
                                    </div>
                                    <div className="form-group">
                                        <label className="form-label">Orari Ricevimento</label>
                                        <input type="text" className="form-input" defaultValue={item?.orari || ''} />
                                    </div>
                                </div>
                                <div className="modal-footer">
                                    <button className="btn btn-secondary" onClick={onClose}>Annulla</button>
                                    <button className="btn btn-primary"><Icons.Save /> Salva</button>
                                </div>
                            </>
                        );
                    default:
                        return null;
                }
            };

            return (
                <div className="modal-overlay" onClick={onClose}>
                    <div className="modal" onClick={e => e.stopPropagation()}>
                        {renderModalContent()}
                    </div>
                </div>
            );
        };

        // Turni Section
        const TurniSection = ({ onOpenModal, weekOffset, setWeekOffset }) => {
            const getWeekDates = (offset) => {
                const today = new Date();
                const monday = new Date(today);
                monday.setDate(today.getDate() - today.getDay() + 1 + (offset * 7));
                return giorniSettimana.map((_, i) => {
                    const d = new Date(monday);
                    d.setDate(monday.getDate() + i);
                    return d.getDate() + '/' + (d.getMonth() + 1);
                });
            };

            const weekDates = getWeekDates(weekOffset);
            const getWeekLabel = () => {
                const today = new Date();
                const monday = new Date(today);
                monday.setDate(today.getDate() - today.getDay() + 1 + (weekOffset * 7));
                const sunday = new Date(monday);
                sunday.setDate(monday.getDate() + 6);
                return `${monday.getDate()}/${monday.getMonth()+1} - ${sunday.getDate()}/${sunday.getMonth()+1}/${sunday.getFullYear()}`;
            };

            const getTurnoClass = (turno) => {
                switch(turno) {
                    case 'M': return 'mattina';
                    case 'P': return 'pomeriggio';
                    case 'N': return 'notte';
                    case 'R': return 'riposo';
                    default: return '';
                }
            };

            const getTurnoLabel = (turno) => {
                switch(turno) {
                    case 'M': return 'Mattina';
                    case 'P': return 'Pomeriggio';
                    case 'N': return 'Notte';
                    case 'R': return 'Riposo';
                    default: return turno;
                }
            };

            return (
                <>
                    <div className="stats-grid">
                        <div className="stat-card primary">
                            <div className="stat-icon primary">üë•</div>
                            <div className="stat-value">{mockOperatori.length}</div>
                            <div className="stat-label">Operatori Attivi</div>
                        </div>
                        <div className="stat-card success">
                            <div className="stat-icon success"><Icons.CheckCircle /></div>
                            <div className="stat-value">98%</div>
                            <div className="stat-label">Copertura Settimanale</div>
                        </div>
                        <div className="stat-card warning">
                            <div className="stat-icon warning"><Icons.AlertTriangle /></div>
                            <div className="stat-value">3</div>
                            <div className="stat-label">Assenze Mese</div>
                        </div>
                        <div className="stat-card purple">
                            <div className="stat-icon purple"><Icons.Clock /></div>
                            <div className="stat-value">216</div>
                            <div className="stat-label">Ore Programmate</div>
                        </div>
                    </div>

                    <div className="legend">
                        <div className="legend-item"><div className="legend-dot mattina"></div> Mattina (06-14)</div>
                        <div className="legend-item"><div className="legend-dot pomeriggio"></div> Pomeriggio (14-22)</div>
                        <div className="legend-item"><div className="legend-dot notte"></div> Notte (22-06)</div>
                        <div className="legend-item"><div className="legend-dot riposo"></div> Riposo</div>
                    </div>

                    <div className="card">
                        <div className="card-header">
                            <div className="week-nav" style={{width: '100%'}}>
                                <div style={{display: 'flex', alignItems: 'center', gap: 12}}>
                                    <h3>üìÖ Settimana: {getWeekLabel()}</h3>
                                </div>
                                <div style={{display: 'flex', gap: 8}}>
                                    <button className="btn btn-sm btn-secondary" onClick={() => setWeekOffset(weekOffset - 1)}><Icons.ChevronLeft /> Prec.</button>
                                    <button className="btn btn-sm btn-secondary" onClick={() => setWeekOffset(0)}>Oggi</button>
                                    <button className="btn btn-sm btn-secondary" onClick={() => setWeekOffset(weekOffset + 1)}>Succ. <Icons.ChevronRight /></button>
                                    <button className="btn btn-sm btn-primary" onClick={() => onOpenModal('turno')}><Icons.Plus /> Nuovo Turno</button>
                                    <button className="btn btn-sm btn-secondary"><Icons.Printer /> Stampa</button>
                                </div>
                            </div>
                        </div>
                        <div className="card-body" style={{padding: 0, overflowX: 'auto'}}>
                            <table style={{minWidth: 800}}>
                                <thead>
                                    <tr>
                                        <th style={{width: 180}}>Operatore</th>
                                        {giorniSettimana.map((g, i) => (
                                            <th key={g} style={{textAlign: 'center'}}>
                                                <div>{g}</div>
                                                <small style={{fontWeight: 400, color: 'var(--gray-500)'}}>{weekDates[i]}</small>
                                            </th>
                                        ))}
                                        <th style={{textAlign: 'center'}}>Ore Sett.</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {Object.entries(mockTurniSettimana).map(([nome, turni]) => {
                                        const op = mockOperatori.find(o => `${o.cognome} ${o.nome.charAt(0)}.` === nome);
                                        const oreLavorate = turni.filter(t => t !== 'R').length * 8;
                                        return (
                                            <tr key={nome}>
                                                <td>
                                                    <div style={{display: 'flex', alignItems: 'center', gap: 8}}>
                                                        <div style={{
                                                            width: 32, height: 32, borderRadius: 6,
                                                            background: op?.color || '#6b7280',
                                                            display: 'flex', alignItems: 'center', justifyContent: 'center',
                                                            color: 'white', fontWeight: 600, fontSize: 11
                                                        }}>{nome.split(' ').map(n => n.charAt(0)).join('')}</div>
                                                        <div>
                                                            <div style={{fontWeight: 600, fontSize: 13}}>{nome}</div>
                                                            <div style={{fontSize: 10, color: 'var(--gray-500)'}}>{op?.ruolo}</div>
                                                        </div>
                                                    </div>
                                                </td>
                                                {turni.map((turno, i) => (
                                                    <td key={i} style={{textAlign: 'center', padding: 6}}>
                                                        <div className={`calendar-shift ${getTurnoClass(turno)}`}>
                                                            {getTurnoLabel(turno)}
                                                        </div>
                                                    </td>
                                                ))}
                                                <td style={{textAlign: 'center', fontWeight: 600}}>
                                                    <span className={`badge ${oreLavorate >= 36 ? 'badge-success' : 'badge-warning'}`}>
                                                        {oreLavorate}h
                                                    </span>
                                                </td>
                                            </tr>
                                        );
                                    })}
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div className="card">
                        <div className="card-header">
                            <h3>‚ö†Ô∏è Validazione DGR 1218/2017</h3>
                        </div>
                        <div className="card-body">
                            <div className="grid-3">
                                <div style={{padding: 12, background: 'var(--success-light)', borderRadius: 8}}>
                                    <div style={{display: 'flex', alignItems: 'center', gap: 8, marginBottom: 4}}>
                                        <Icons.CheckCircle />
                                        <strong style={{fontSize: 13}}>Copertura Educatori</strong>
                                    </div>
                                    <p style={{fontSize: 12, color: 'var(--gray-600)'}}>Minimo 1 educatore per 6h/giorno ‚úì</p>
                                </div>
                                <div style={{padding: 12, background: 'var(--success-light)', borderRadius: 8}}>
                                    <div style={{display: 'flex', alignItems: 'center', gap: 8, marginBottom: 4}}>
                                        <Icons.CheckCircle />
                                        <strong style={{fontSize: 13}}>Copertura h24</strong>
                                    </div>
                                    <p style={{fontSize: 12, color: 'var(--gray-600)'}}>Presenza continua garantita ‚úì</p>
                                </div>
                                <div style={{padding: 12, background: 'var(--warning-light)', borderRadius: 8}}>
                                    <div style={{display: 'flex', alignItems: 'center', gap: 8, marginBottom: 4}}>
                                        <Icons.AlertTriangle />
                                        <strong style={{fontSize: 13}}>Rapporto Operatori</strong>
                                    </div>
                                    <p style={{fontSize: 12, color: 'var(--gray-600)'}}>1:4 turno mattina - verificare</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </>
            );
        };

        // Operatori Section
        const OperatoriSection = ({ onOpenModal }) => (
            <>
                <div className="stats-grid">
                    <div className="stat-card primary">
                        <div className="stat-icon primary">üë•</div>
                        <div className="stat-value">{mockOperatori.length}</div>
                        <div className="stat-label">Totale Operatori</div>
                    </div>
                    <div className="stat-card success">
                        <div className="stat-icon success">üéì</div>
                        <div className="stat-value">{mockOperatori.filter(o => o.ruolo === 'Educatore').length + 1}</div>
                        <div className="stat-label">Educatori</div>
                    </div>
                    <div className="stat-card cyan">
                        <div className="stat-icon cyan">ü©∫</div>
                        <div className="stat-value">{mockOperatori.filter(o => o.ruolo === 'OSS').length}</div>
                        <div className="stat-label">OSS</div>
                    </div>
                    <div className="stat-card purple">
                        <div className="stat-icon purple">üíâ</div>
                        <div className="stat-value">{mockOperatori.filter(o => o.ruolo === 'Infermiera').length}</div>
                        <div className="stat-label">Infermieri</div>
                    </div>
                </div>

                <div className="card">
                    <div className="card-header">
                        <h3>üë• Elenco Operatori</h3>
                        <button className="btn btn-primary" onClick={() => onOpenModal('operatore')}><Icons.Plus /> Nuovo Operatore</button>
                    </div>
                    <div className="card-body">
                        <div className="grid-2">
                            {mockOperatori.map(op => (
                                <div key={op.id} className="operatore-card">
                                    <div className="operatore-avatar" style={{background: op.color}}>
                                        {op.nome.charAt(0)}{op.cognome.charAt(0)}
                                    </div>
                                    <div className="operatore-info">
                                        <h4>{op.cognome} {op.nome}</h4>
                                        <p>{op.ruolo} - {op.qualifica}</p>
                                        <p style={{fontSize: 10}}>{op.email} ‚Ä¢ {op.tel}</p>
                                    </div>
                                    <div className="operatore-stats">
                                        <span><strong>{op.oreSett}h</strong>/sett.</span>
                                        <span className={`badge badge-sm ${op.assenze > 0 ? 'badge-warning' : 'badge-success'}`}>
                                            {op.assenze} ass.
                                        </span>
                                    </div>
                                    <button className="btn btn-sm btn-secondary" onClick={() => onOpenModal('operatore', op)}>
                                        <Icons.Edit />
                                    </button>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            </>
        );

        // Medici Section
        const MediciSection = ({ onOpenModal }) => (
            <>
                <div className="stats-grid">
                    <div className="stat-card primary">
                        <div className="stat-icon primary">ü©∫</div>
                        <div className="stat-value">{mockMedici.filter(m => m.tipo === 'MMG').length}</div>
                        <div className="stat-label">Medici MMG</div>
                    </div>
                    <div className="stat-card purple">
                        <div className="stat-icon purple">üß†</div>
                        <div className="stat-value">{mockMedici.filter(m => m.tipo === 'Psichiatra DSM').length}</div>
                        <div className="stat-label">Psichiatri DSM</div>
                    </div>
                    <div className="stat-card warning">
                        <div className="stat-icon warning">üíä</div>
                        <div className="stat-value">{mockMedici.filter(m => m.tipo === 'Farmacia Territoriale').length}</div>
                        <div className="stat-label">Farmacie ASP</div>
                    </div>
                    <div className="stat-card teal">
                        <div className="stat-icon teal">üìû</div>
                        <div className="stat-value">{mockMedici.length}</div>
                        <div className="stat-label">Totale Contatti</div>
                    </div>
                </div>

                <div className="card">
                    <div className="card-header">
                        <h3>üìã Rubrica Medici e Contatti</h3>
                        <button className="btn btn-primary" onClick={() => onOpenModal('medico')}><Icons.Plus /> Nuovo Contatto</button>
                    </div>
                    <div className="card-body">
                        <div className="grid-2">
                            {mockMedici.map(medico => (
                                <div key={medico.id} className="medico-card" style={{borderLeftColor: medico.color}}>
                                    <div className="medico-header">
                                        <div className="medico-avatar" style={{background: medico.color}}>
                                            {medico.nome.split(' ').map(n => n.charAt(0)).join('').substring(0,2)}
                                        </div>
                                        <div className="medico-info">
                                            <h4>{medico.tipo === 'Farmacia Territoriale' ? 'Dott.ssa ' : 'Dott. '}{medico.nome}</h4>
                                            <p>{medico.tipo} - {medico.specialita}</p>
                                        </div>
                                        <button className="btn btn-sm btn-secondary" onClick={() => onOpenModal('medico', medico)}>
                                            <Icons.Edit />
                                        </button>
                                    </div>
                                    <div className="medico-contact">
                                        <p><Icons.Mail /> <a href={`mailto:${medico.email}`}>{medico.email}</a></p>
                                        <p><Icons.Phone /> <a href={`tel:${medico.tel}`}>{medico.tel}</a></p>
                                        <p><Icons.MapPin /> {medico.indirizzo}</p>
                                        <p><Icons.Clock /> {medico.orari}</p>
                                    </div>
                                    {medico.pazienti.length > 0 && (
                                        <div className="medico-pazienti">
                                            <h5>Pazienti Assegnati</h5>
                                            <div className="medico-pazienti-list">
                                                {medico.pazienti.map((p, i) => (
                                                    <span key={i} className="badge badge-gray">{p}</span>
                                                ))}
                                            </div>
                                        </div>
                                    )}
                                </div>
                            ))}
                        </div>
                    </div>
                </div>

                <div className="card">
                    <div className="card-header">
                        <h3>üìß Invio Rapido Email</h3>
                    </div>
                    <div className="card-body">
                        <div style={{display: 'flex', gap: 8, flexWrap: 'wrap'}}>
                            <a href="mailto:adinolfi@aspbasilicata.it" className="btn btn-primary"><Icons.Mail /> Dott. Adinolfi (MMG)</a>
                            <a href="mailto:canadeo@aspbasilicata.it" className="btn btn-success"><Icons.Mail /> Dott.ssa Canadeo (MMG)</a>
                            <a href="mailto:andrea.barra@aspbasilicata.it" className="btn btn-purple"><Icons.Mail /> Dott. Barra (DSM)</a>
                            <a href="mailto:daria.ricciardi@aspbasilicata.it" className="btn btn-warning"><Icons.Mail /> Farmacia Territoriale</a>
                        </div>
                        <p style={{fontSize: 11, color: 'var(--gray-500)', marginTop: 12}}>
                            ‚ÑπÔ∏è I contatti sono configurati come da IST-GFR (Istruzione Operativa Gestione Farmaci Casa Alloggio)
                        </p>
                    </div>
                </div>
            </>
        );

        // Statistiche Section
        const StatisticheSection = () => (
            <>
                <div className="stats-grid">
                    <div className="stat-card primary">
                        <div className="stat-icon primary">‚è±Ô∏è</div>
                        <div className="stat-value">864</div>
                        <div className="stat-label">Ore Mese Corrente</div>
                        <div className="stat-change up"><Icons.TrendingUp /> +5% vs mese prec.</div>
                    </div>
                    <div className="stat-card success">
                        <div className="stat-icon success">‚úì</div>
                        <div className="stat-value">97.2%</div>
                        <div className="stat-label">Presenze Effettive</div>
                    </div>
                    <div className="stat-card warning">
                        <div className="stat-icon warning">üìä</div>
                        <div className="stat-value">24</div>
                        <div className="stat-label">Ore Straordinario</div>
                    </div>
                    <div className="stat-card danger">
                        <div className="stat-icon danger">üè•</div>
                        <div className="stat-value">3</div>
                        <div className="stat-label">Giorni Malattia</div>
                    </div>
                </div>

                <div className="grid-2">
                    <div className="card">
                        <div className="card-header">
                            <h3>üìä Ore per Operatore - Mese Corrente</h3>
                        </div>
                        <div className="card-body" style={{padding: 0}}>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Operatore</th>
                                        <th>Ore Contrattuali</th>
                                        <th>Ore Lavorate</th>
                                        <th>Straordinario</th>
                                        <th>Ferie/Permessi</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {mockOperatori.map(op => (
                                        <tr key={op.id}>
                                            <td style={{fontWeight: 500}}>{op.cognome} {op.nome.charAt(0)}.</td>
                                            <td>{op.oreSett * 4}h</td>
                                            <td><span className="badge badge-success">{Math.round(op.oreSett * 4 * 0.95)}h</span></td>
                                            <td><span className="badge badge-warning">{Math.floor(Math.random() * 8)}h</span></td>
                                            <td><span className="badge badge-gray">{op.assenze * 8}h</span></td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div className="card">
                        <div className="card-header">
                            <h3>üìà Copertura Turni</h3>
                        </div>
                        <div className="card-body">
                            <div style={{marginBottom: 16}}>
                                <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: 4}}>
                                    <span style={{fontSize: 13}}>Turni Mattina</span>
                                    <span style={{fontSize: 13, fontWeight: 600}}>100%</span>
                                </div>
                                <div style={{height: 8, background: 'var(--gray-200)', borderRadius: 4}}>
                                    <div style={{height: '100%', width: '100%', background: 'var(--success)', borderRadius: 4}}></div>
                                </div>
                            </div>
                            <div style={{marginBottom: 16}}>
                                <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: 4}}>
                                    <span style={{fontSize: 13}}>Turni Pomeriggio</span>
                                    <span style={{fontSize: 13, fontWeight: 600}}>100%</span>
                                </div>
                                <div style={{height: 8, background: 'var(--gray-200)', borderRadius: 4}}>
                                    <div style={{height: '100%', width: '100%', background: 'var(--success)', borderRadius: 4}}></div>
                                </div>
                            </div>
                            <div style={{marginBottom: 16}}>
                                <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: 4}}>
                                    <span style={{fontSize: 13}}>Turni Notte</span>
                                    <span style={{fontSize: 13, fontWeight: 600}}>95%</span>
                                </div>
                                <div style={{height: 8, background: 'var(--gray-200)', borderRadius: 4}}>
                                    <div style={{height: '100%', width: '95%', background: 'var(--warning)', borderRadius: 4}}></div>
                                </div>
                            </div>
                            <div>
                                <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: 4}}>
                                    <span style={{fontSize: 13}}>Copertura Weekend</span>
                                    <span style={{fontSize: 13, fontWeight: 600}}>100%</span>
                                </div>
                                <div style={{height: 8, background: 'var(--gray-200)', borderRadius: 4}}>
                                    <div style={{height: '100%', width: '100%', background: 'var(--success)', borderRadius: 4}}></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div className="card">
                    <div className="card-header">
                        <h3>üìã Report Mensile</h3>
                        <div style={{display: 'flex', gap: 8}}>
                            <button className="btn btn-sm btn-secondary"><Icons.Download /> Export Excel</button>
                            <button className="btn btn-sm btn-primary"><Icons.Printer /> Stampa Report</button>
                        </div>
                    </div>
                    <div className="card-body">
                        <p style={{fontSize: 12, color: 'var(--gray-600)'}}>
                            Report generato automaticamente per la rendicontazione mensile ASP Potenza.
                            Include: ore lavorate, assenze, copertura turni, rispetto requisiti DGR 1218/2017.
                        </p>
                    </div>
                </div>
            </>
        );

        ReactDOM.render(<ManagementApp />, document.getElementById('root'));
    </script>
</body>
</html>
